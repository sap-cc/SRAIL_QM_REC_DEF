"use strict";sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=e.extend("zqm.nc.recdefectfast.controller.BaseController",{onInit:function e(){this.oOwnerComponent=this.getOwnerComponent();this.oRouter=this.oOwnerComponent.getRouter();this.oODataModel=this.oOwnerComponent.getModel();this.oDraftController=this.oOwnerComponent.getDraftController()},getStartupParameters:function e(t){var n=this;var r=this.getOwnerComponent().getComponentData()!=null?this.getOwnerComponent().getComponentData():{};var o=r.startupParameters;return t.reduce(function(e,t){var r=t.name,s=t.type;if(o[r]!=null){var a=Array.isArray(o[r])?o[r][0]:o[r];e[r]=n.convertParameter(a,s)}return e},{})},isLaunchpad:function e(){return sap.ushell!=null},navigateBack:function e(){if(this.isLaunchpad()){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal({target:{shellHash:"#"}})})["catch"](function(e){console.error(e);window.history.go(-1)})}else{window.history.go(-1)}},navigateToCreateDefect:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.oRouter.navTo("main",{"?query":t},{},n)},navigateToDefectRecord:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.oRouter.navTo("record",{defectRecordPath:t.substring(1)},{},n)},parseError:function e(n){if(n!=null&&t(n)==="object"){var r=undefined;if("response"in n&&n.response.responseText!=null){r=n.response.responseText}else if(n.responseText!=null){r=n.responseText}if(r!=null){try{var o=JSON.parse(r);if(o.error&&o.error.message&&o.error.message.value){return o.error.message.value}}catch(e){var s=r.replace(/.*<message>(.*)<\/message>.*/,"$1").trim();return s||r}}else if(n.message!=null){return n.message}}return"Unknown Error"},translate:function e(t,n,r){return this.getResourceBundle().getText(t,n,r)},convertParameter:function e(t,n){switch(n){case"boolean":case"Edm.Boolean":return typeof t==="boolean"?t:t==="true";default:{return t}}},getResourceBundle:function e(){return this.oOwnerComponent.getModel("i18n").getResourceBundle()}});return n});