"use strict";sap.ui.define(["sap/m/Input","sap/ui/model/type/String","sap/ui/model/odata/type/Decimal","zqm/nc/recdefectfast/util/ODataHelper"],function(e,t,r,n){function i(e,t,r){if(r){return t?t(e):e}if(!e||!e.then){e=Promise.resolve(e)}return t?e.then(t):e}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(){if(typeof Reflect!=="undefined"&&Reflect.get){l=Reflect.get}else{l=function e(t,r,n){var i=c(t,r);if(!i)return;var o=Object.getOwnPropertyDescriptor(i,r);if(o.get){return o.get.call(arguments.length<3?t:n)}return o.value}}return l.apply(this,arguments)}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=v(e);if(e===null)break}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)s(e,t)}function s(e,t){s=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return s(e,t)}function p(e){var t=h();return function r(){var n=v(e),i;if(t){var o=v(this).constructor;i=Reflect.construct(n,arguments,o)}else{i=n.apply(this,arguments)}return y(this,i)}}function y(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var g=n["getEntitySetNameByBindingContextPath"];var b=n["getODataPropertyForEntitySet"];var m=n["isODataModel"];var O=n["isODataPropertyBinding"];var P=function(e){f(a,e);var n=p(a);function a(){o(this,a);return n.apply(this,arguments)}u(a,[{key:"init",value:function e(){l(v(a.prototype),"init",this).call(this);this.attachModelContextChange(this.handleBinding,this)}},{key:"exit",value:function e(){l(v(a.prototype),"exit",this).call(this);this.detachModelContextChange(this.handleBinding,this)}},{key:"onBeforeRendering",value:function e(){l(v(a.prototype),"onBeforeRendering",this).call(this)}},{key:"handleBinding",value:function e(){try{var n=this;var o=n.getBinding("value");if(o==null){return i()}var a=o.getContext();var u=o.getModel();if(a==null||!O(o)||!m(u)){return i()}return i(u.metadataLoaded(),function(){var e=u.getMetaModel();return i(e.loaded(),function(){var i=o.getPath();var u=a.getPath();var l=g(u);var c=b(e,l,i);if(c==null){return}if(c.type==="Edm.String"){var f=!!n.getProperty("required");var s=new t({parseKeepsEmptyString:false},{minLength:f||c.nullable==="false"?1:0,maxLength:c.maxLength!=null?Number(c.maxLength):undefined});o.setType(s,"string")}else if(c.type==="Edm.Decimal"){var p=!!n.getProperty("required");var y=c.scale!=null?Number(c.scale):undefined;var d=new r({},{nullable:!p||c.nullable==null?true:c.nullable==="true",precision:c.precision!=null?Number(c.precision):undefined,scale:y});var h=y==null||y===0?"int":"float";o.setType(d,h)}else{console.warn("Error: Unsupported type '".concat(c.type,"' for property ").concat(i))}})})}catch(e){return Promise.reject(e)}}}]);return a}(e);return P});